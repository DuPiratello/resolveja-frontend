<div class="userpage-container">
  
  <!-- Header da UserPage -->
  <header class="userpage-header">
    <div class="container">
      <div class="header-content">
        <div class="header-left">
          <div class="logo">
            <span class="logo-icon">ğŸ›ï¸</span>
            <span class="logo-text">ResolveJÃ¡</span>
          </div>
          <h1 class="page-title">Painel do CidadÃ£o</h1>
        </div>
        <div class="header-actions">
          <button [routerLink]="'/profile'" class="btn btn-outline">
            <span class="btn-icon">ğŸ‘¤</span>
            Meu Perfil
          </button>
          <button (click)="logout()" class="btn btn-primary">
            <span class="btn-icon">ğŸšª</span>
            Sair
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- SeÃ§Ã£o de EstatÃ­sticas Pessoais -->
  <section class="stats-section">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸ“</div>
          <div class="stat-content">
            <div class="stat-number">{{ denuncias.length }}</div>
            <div class="stat-description">Total de denÃºncias criadas</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">â³</div>
          <div class="stat-content">
            <div class="stat-number">{{ denunciasPendentes.length }}</div>
            <div class="stat-description">Pendentes</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ”„</div>
          <div class="stat-content">
          <div class="stat-number">{{ denunciasAndamento.length }}</div>            <div class="stat-description">Em Andamento</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">âœ…</div>
          <div class="stat-content">
           <div class="stat-number">{{ denunciasResolvidas.length }}</div>
            <div class="stat-description">Resolvidas</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SeÃ§Ã£o de Filtros e Nova DenÃºncia -->
  <section class="filters-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title"> FaÃ§a sua DenÃºncia JÃ¡!!!</h2>
        <p class="section-description">
          Acompanhe as denÃºncias mais recentes e registre novos problemas
        </p>
      </div>

      <div class="filters-container">
        <div class="filter-actions">
         <section class="call-to-action-section">
            <div class="container">
              <div class="cta-card">
                <div class="cta-icon">ğŸš€</div>
                <div class="cta-message">
                  <strong>Ajude a transformar sua cidade!</strong><br>
                  Identificou um problema? <span class="cta-highlight">Registre uma nova denÃºncia</span> agora mesmo.
                </div>
                <button (click)="toggleNovaDenuncia()" class="btn btn-cta">
                  <span class="btn-icon">
                    {{ isOpen ? 'âœ–ï¸' : 'â•' }}
                  </span>
                  {{ isOpen ? 'Fechar' : 'Nova DenÃºncia' }}
                </button>
              </div>
            </div>
          </section>
        </div>
      </div>

      <!-- FormulÃ¡rio de Nova DenÃºncia -->
      <div *ngIf="isOpen" class="nova-denuncia-container">
        <div class="nova-denuncia-header">
          <h3 class="nova-denuncia-title">
            <span class="nova-denuncia-icon">ğŸ“</span>
            Registrar Nova DenÃºncia
          </h3>
          <p class="nova-denuncia-description">
            Preencha os dados abaixo para registrar um novo problema em sua cidade
          </p>
        </div>
        <app-nova-denuncia></app-nova-denuncia>
      </div>
    </div>
  </section>

  <!-- SeÃ§Ã£o de DenÃºncias -->
  <section class="denuncias-section">
    <div class="container">
      <div class="denuncias-header">
        <h3 class="denuncias-title">
          <span class="denuncias-icon">ğŸ“‹</span>
          Lista de DenÃºncias
        </h3>
      </div>

      <!-- DenÃºncias Cards -->
      <div class="denuncias-wrapper">
        <app-denuncias-cards
          [denunciasFiltradas]="denunciasFiltradas"
          [showDetailsButton]="false">
        </app-denuncias-cards>

        <!-- Empty State -->
        <div *ngIf="denunciasFiltradas.length === 0" class="empty-state">
          <div class="empty-icon">ğŸ”</div>
          <h3 class="empty-title">Nenhuma denÃºncia encontrada</h3>
          <p class="empty-description">
            {{ selectedStatus || selectedTipo ? 
               'Tente ajustar os filtros para ver mais resultados.' : 
               'VocÃª ainda nÃ£o registrou nenhuma denÃºncia. Que tal comeÃ§ar agora?' }}
          </p>
          <button *ngIf="!selectedStatus && !selectedTipo" (click)="toggleNovaDenuncia()" class="btn btn-solid">
            <span class="btn-icon">â•</span>
            Registrar Primeira DenÃºncia
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- SeÃ§Ã£o de Mapa de Calor -->
  <section class="heatmap-section">
    <div class="container">
      <div class="heatmap-card">
        <h3 class="heatmap-title">
          <span class="heatmap-icon">ğŸ—ºï¸</span>
          Mapa de Problemas da Cidade
        </h3>
        <p class="heatmap-description">
          Visualize os problemas reportados em toda a cidade
        </p>
        <div class="heatmap-wrapper">
          <app-heatmap></app-heatmap>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="userpage-footer">
    <div class="container">
      <div class="footer-content">
        <p class="copyright">
          Â© 2024 ResolveJÃ¡. Sua voz faz a diferenÃ§a na cidade.
        </p>
      </div>
    </div>
  </footer>
</div>
